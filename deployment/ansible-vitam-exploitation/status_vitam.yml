---

### HOSTS NETWORK VARS CHECK ###
- hosts: hosts
  roles:
    - checks

- hosts: hosts-ingest-external
  roles:
    - vitam_autotest
  vars:
    vitam_component: ingest-external
    hote: "{{ ip_admin }}"
    port: "{{ vitam.ingestexternal.port_admin }}"

- hosts: hosts-ingest-internal
  roles:
    - vitam_autotest
  vars:
    vitam_component: ingest-internal
    hote: "{{ ip_admin }}"
    port: "{{ vitam.ingestinternal.port_admin }}"

- hosts: hosts-access-external
  roles:
    - vitam_autotest
  vars:
    vitam_component: access-external
    hote: "{{ ip_admin }}"
    port: "{{ vitam.accessexternal.port_admin }}"

- hosts: hosts-access-internal
  roles:
    - vitam_autotest
  vars:
    vitam_component: access-internal
    hote: "{{ ip_admin }}"
    port: "{{ vitam.accessinternal.port_admin }}"

- hosts: hosts-worker
  roles:
    - vitam_autotest
  vars:
    vitam_component: worker
    hote: "{{ ip_admin }}"
    port: "{{ vitam.worker.port_admin }}"

- hosts: hosts-processing
  roles:
    - vitam_autotest
  vars:
    vitam_component: processing
    hote: "{{ ip_admin }}"
    port: "{{ vitam.processing.port_admin }}"

- hosts: hosts-batch-report
  roles:
    - vitam_autotest
  vars:
    vitam_component: batch-report
    hote: "{{ ip_admin }}"
    port: "{{ vitam.batchreport.port_admin }}"

- hosts: hosts-workspace
  roles:
    - vitam_autotest
  vars:
    vitam_component: workspace
    hote: "{{ ip_admin }}"
    port: "{{ vitam.workspace.port_admin }}"

- hosts: hosts-functional-administration
  roles:
    - vitam_autotest
  vars:
    vitam_component: functional-administration
    hote: "{{ ip_admin }}"
    port: "{{ vitam.functional_administration.port_admin }}"

- hosts: hosts-logbook
  any_errors_fatal: false
  roles:
    - vitam_autotest
  vars:
    vitam_component: logbook
    hote: "{{ ip_admin }}"
    port: "{{ vitam.logbook.port_admin }}"

- hosts: hosts-metadata
  roles:
    - vitam_autotest
  vars:
    vitam_component: metadata
    hote: "{{ ip_admin }}"
    port: "{{ vitam.metadata.port_admin }}"

- hosts: hosts-storage-engine
  roles:
    - vitam_autotest
  vars:
    vitam_component: storage
    hote: "{{ ip_admin }}"
    port: "{{ vitam.storageengine.port_admin }}"

- hosts: hosts-storage-offer-default
  roles:
    - vitam_autotest
  vars:
    vitam_component: offer
    hote: "{{ ip_admin }}"
    port: "{{ vitam.storageofferdefault.port_admin }}"
