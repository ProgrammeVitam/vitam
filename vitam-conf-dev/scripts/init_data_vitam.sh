#!/bin/bash

if [ -d /vitam/data/offer ]; then
  rm -rf /vitam/data/offer/*_backup
fi

echo "Import security profile"
echo "Begin"
curl -d '[{"Name": "admin-security-profile", "Identifier": "admin-security-profile", "FullAccess": true, "Permissions": null }]' -H "Content-Type: application/json" -X POST http://functional-administration.service.consul:18004/v1/admin/securityprofiles
echo "End"

echo "Import context"
echo "Begin"
curl -d '[{"Name": "admin-context", "Status": "ACTIVE","Identifier": "CT-000001", "SecurityProfile": "admin-security-profile", "Permissions": [ {"tenant": 0, "AccessContracts": [], "IngestContracts": []},{"tenant": 1, "AccessContracts": [], "IngestContracts": []}, {"tenant": 2, "AccessContracts": [], "IngestContracts": []} ]}]' -H "Content-Type: application/json" -X POST http://functional-administration.service.consul:18004/v1/admin/contexts
echo "End"

## TODO use real certificates in base64 instead of already hardcoded value
echo "Import ihm-demo certificate"
echo "Begin"
curl -d '{ "contextId" : "CT-000001" , "certificate" : "Q2VydGlmaWNhdGU6DQogICAgRGF0YToNCiAgICAgICAgVmVyc2lvbjogMyAoMHgyKQ0KICAgICAgICBTZXJpYWwgTnVtYmVyOiAyODggKDB4MTIwKQ0KICAgIFNpZ25hdHVyZSBBbGdvcml0aG06IHNoYTI1NldpdGhSU0FFbmNyeXB0aW9uDQogICAgICAgIElzc3VlcjogQz1mciwgU1Q9aWRmLCBMPXBhcmlzLCBPPXZpdGFtLCBPVT1hdXRob3JpdGllcywgQ049Y2FfaW50ZXJtZWRpYXRlX2NsaWVudC1leHRlcm5hbA0KICAgICAgICBWYWxpZGl0eQ0KICAgICAgICAgICAgTm90IEJlZm9yZTogRmViIDIyIDE2OjM3OjA0IDIwMTggR01UDQogICAgICAgICAgICBOb3QgQWZ0ZXIgOiBGZWIgMjEgMTY6Mzc6MDQgMjAyMSBHTVQNCiAgICAgICAgU3ViamVjdDogQz1mciwgU1Q9aWRmLCBMPXBhcmlzLCBPPXZpdGFtLCBDTj1paG0tZGVtbw0KICAgICAgICBTdWJqZWN0IFB1YmxpYyBLZXkgSW5mbzoNCiAgICAgICAgICAgIFB1YmxpYyBLZXkgQWxnb3JpdGhtOiByc2FFbmNyeXB0aW9uDQogICAgICAgICAgICAgICAgUHVibGljLUtleTogKDQwOTYgYml0KQ0KICAgICAgICAgICAgICAgIE1vZHVsdXM6DQogICAgICAgICAgICAgICAgICAgIDAwOmIyOmNlOjJkOmQ2OjljOjk2OmVkOjAyOmY5OjcxOjg5OjU1OmNjOmZlOg0KICAgICAgICAgICAgICAgICAgICA0YjpjNjo1MzplZjo1ZTpjMDo2ZTo2Zjo2MDo4MTo0YjowMDpjNToxMDpiZjoNCiAgICAgICAgICAgICAgICAgICAgOWI6YWM6MDU6ZDY6NmU6MWE6ZjY6MDA6NGQ6OGY6N2Y6YmQ6MDE6MDU6ZWI6DQogICAgICAgICAgICAgICAgICAgIDcxOmRkOjlmOjFhOjVhOjNkOjBlOjc2OjVjOmNjOmI3OjAzOjU0OmVhOmU2Og0KICAgICAgICAgICAgICAgICAgICBlMjo3MDo5Yjo2ZjplNTplZDozYjpiYzo5MTo5MDphNjo0Mjo3YjpjOTpjMDoNCiAgICAgICAgICAgICAgICAgICAgNzQ6MmQ6ZjQ6MmQ6YmM6MDU6ZWY6NmQ6MDI6MTI6YmU6NWE6ODg6MzQ6ZTQ6DQogICAgICAgICAgICAgICAgICAgIDhjOjQ0OmRmOjBiOjlmOmQ2OjkxOmYxOmQxOjcwOjA3OjQ0Ojc4OjAyOmU1Og0KICAgICAgICAgICAgICAgICAgICA3NjpmZjpmNDpiMjplOTo2MzoxZjpkOTpmYTpmOTozZjoyNjoxZTpmMDo3OToNCiAgICAgICAgICAgICAgICAgICAgYzc6ZDU6NjQ6NGU6Y2U6MjE6MTE6ZmE6YTU6Y2E6Y2M6NTM6MDY6OWQ6N2M6DQogICAgICAgICAgICAgICAgICAgIDliOmQxOmM1OmRmOmQxOjY0OjM3OmY1OjczOmJhOmQ0OmYxOjljOjc5OjhiOg0KICAgICAgICAgICAgICAgICAgICA3Njo4NToxMDo1Njo0ZTo5OTo2NjozZjpiNjo4Yzo4ZDo2ZTphZjoxYzoxMzoNCiAgICAgICAgICAgICAgICAgICAgNGI6ZGU6Yzk6M2M6Yjg6YWI6NTY6Y2U6YTI6MmE6NGI6NTc6ZjA6MjQ6MGI6DQogICAgICAgICAgICAgICAgICAgIGYyOmIyOjdlOmZjOjM2OmNmOmVkOmRlOjVjOjFiOjJiOmI1OjQ1OmZhOjM1Og0KICAgICAgICAgICAgICAgICAgICAwODpjMjoxZDozODoyYjpiODpiODo5NTpkMTo1NzpiYzpiZDpkNDoxNjo2NDoNCiAgICAgICAgICAgICAgICAgICAgMTE6NmI6OTk6ODU6ZmQ6OTk6Y2E6OTY6ZDY6MzM6MDg6N2Q6N2M6Y2Q6ZTA6DQogICAgICAgICAgICAgICAgICAgIDhhOjQ3OjI1OjMyOjBkOmI2OjhiOjFiOmZiOmYxOmY0OmNjOmI0OmY5OjE5Og0KICAgICAgICAgICAgICAgICAgICAxYToyMTowMzpmNDoyMDo0ODplNTozMzowNzpkYjpmMTo4YTphNDphMDo5YzoNCiAgICAgICAgICAgICAgICAgICAgYzI6Njk6MzQ6N2E6YzQ6Njg6Yjg6M2U6OWE6ZTQ6YzQ6NDY6YmE6Zjc6M2I6DQogICAgICAgICAgICAgICAgICAgIDhhOmVjOjI1OmYyOjQ4OjgxOjQ5OjMwOjk0OjMyOjQ3OjUzOjdhOjM1OjI2Og0KICAgICAgICAgICAgICAgICAgICA3NTozMjozNzowYzoxOTpiYjowYzo4ZTo0Zjo5ZDowZTpiYTpjNjpiODplNzoNCiAgICAgICAgICAgICAgICAgICAgZWE6ZDU6ODk6NjI6N2U6MDQ6OWY6ZmQ6YTU6ZDE6OTE6ZjU6ZDE6ODQ6YTg6DQogICAgICAgICAgICAgICAgICAgIGRhOjI0OmYyOjRlOjI5OjZlOmJlOjJiOjE2OjFiOjU4OjY4OjE0Ojg5OmMwOg0KICAgICAgICAgICAgICAgICAgICAzYTpiMjo2Mjo1YzozZDoyZjo4Mjo5OTowNzoxZjpkNTowMzpjYTowNDo4MToNCiAgICAgICAgICAgICAgICAgICAgYjQ6ZmI6N2I6Nzk6ZWQ6YjU6M2E6MTY6NDQ6Y2E6MGY6MTI6MWE6NzM6MTc6DQogICAgICAgICAgICAgICAgICAgIDA0OmFjOjU2OmVkOmE5OjFlOjc4OjhjOmNkOjA2OmQ0OjZjOjcwOmYwOjYzOg0KICAgICAgICAgICAgICAgICAgICA3OTozNjo3NDoxYToyOTplZTpiNDoyNjpiNDpmNDowODpkZjo5YjpkZjphODoNCiAgICAgICAgICAgICAgICAgICAgNTA6YTM6NWU6OTk6YTY6N2M6MzM6NDM6MGI6MDQ6YzE6NGM6Zjg6ODI6MTI6DQogICAgICAgICAgICAgICAgICAgIDI0OjhjOmVmOjk3OmJkOjJlOmQ1OjMyOjAxOmU0OjZlOmNkOjhmOjJhOjFlOg0KICAgICAgICAgICAgICAgICAgICA0MDo0NDowOTo0MDozYTo5MjpkYTpkMjozYzoyZjoyYjo1YzoxNDphNTowYzoNCiAgICAgICAgICAgICAgICAgICAgZmU6ZjU6NTk6NWE6MzY6ODQ6MmM6NWY6MTg6MmE6OTM6ZmE6ZTk6Yzk6MmE6DQogICAgICAgICAgICAgICAgICAgIGM3OmUwOjY5OjYxOjUxOmRlOjE2OmYxOjk2OjRkOmMzOjUwOmI4OjMxOjgzOg0KICAgICAgICAgICAgICAgICAgICA1ODpiOTphYzplZjplMjpkNDo0Yjo0ZDo2NjpiNDpkOTpkMDowNjo1YToyODoNCiAgICAgICAgICAgICAgICAgICAgYjY6MjE6NDI6NGU6YWI6ZGU6YTQ6MWU6N2I6MTM6OTM6ZTk6MDE6ZmE6NTU6DQogICAgICAgICAgICAgICAgICAgIGI2OmMxOmEyOmQzOmY2OmM3OjgzOjdiOjA1OmE3OjdhOmVjOjEwOjhjOjE2Og0KICAgICAgICAgICAgICAgICAgICA3NjoxMjpkNw0KICAgICAgICAgICAgICAgIEV4cG9uZW50OiA2NTUzNyAoMHgxMDAwMSkNCiAgICAgICAgWDUwOXYzIGV4dGVuc2lvbnM6DQogICAgICAgICAgICBOZXRzY2FwZSBDb21tZW50OiANCiAgICAgICAgICAgICAgICBDZXJ0aWZpY2F0IENsaWVudCBTU0wNCiAgICAgICAgICAgIFg1MDl2MyBTdWJqZWN0IEtleSBJZGVudGlmaWVyOiANCiAgICAgICAgICAgICAgICA4MTpCNTo3QToxOTo4Nzo0RjpGNDoxNDoyRjpDNjo4QTpGNTpDQTpBQzpERjpDOTpFMzpBNTpDOTo2NA0KICAgICAgICAgICAgWDUwOXYzIEF1dGhvcml0eSBLZXkgSWRlbnRpZmllcjogDQogICAgICAgICAgICAgICAga2V5aWQ6OUM6OEI6MkI6RTA6MzA6Njg6QkE6MjA6MjY6MUQ6QkE6MDc6QTA6NDg6MTk6NkI6MkM6REU6MEU6MjYNCiAgICAgICAgICAgICAgICBEaXJOYW1lOi9DPWZyL1NUPWlkZi9MPXBhcmlzL089dml0YW0vT1U9YXV0aG9yaXRpZXMvQ049Y2Ffcm9vdF9jbGllbnQtZXh0ZXJuYWwNCiAgICAgICAgICAgICAgICBzZXJpYWw6RkMNCg0KICAgICAgICAgICAgWDUwOXYzIElzc3VlciBBbHRlcm5hdGl2ZSBOYW1lOiANCiAgICAgICAgICAgICAgICA8RU1QVFk+DQoNCiAgICAgICAgICAgIFg1MDl2MyBCYXNpYyBDb25zdHJhaW50czogY3JpdGljYWwNCiAgICAgICAgICAgICAgICBDQTpGQUxTRQ0KICAgICAgICAgICAgWDUwOXYzIEtleSBVc2FnZTogDQogICAgICAgICAgICAgICAgRGlnaXRhbCBTaWduYXR1cmUsIE5vbiBSZXB1ZGlhdGlvbiwgS2V5IEVuY2lwaGVybWVudA0KICAgICAgICAgICAgTmV0c2NhcGUgQ2VydCBUeXBlOiANCiAgICAgICAgICAgICAgICBTU0wgQ2xpZW50DQogICAgICAgICAgICBYNTA5djMgRXh0ZW5kZWQgS2V5IFVzYWdlOiANCiAgICAgICAgICAgICAgICBUTFMgV2ViIENsaWVudCBBdXRoZW50aWNhdGlvbg0KICAgIFNpZ25hdHVyZSBBbGdvcml0aG06IHNoYTI1NldpdGhSU0FFbmNyeXB0aW9uDQogICAgICAgICA4ODo1YzpmNTozYzowNzplOTpkYjphMjpjNjo0OTowZDpjNzozMTo3MTo3NDo1MzpkZDoyMzoNCiAgICAgICAgIGMzOmNkOmM5OmE0Ojk0OjViOjI3OjgzOmI2OjE2OjNhOjUwOjU4OjUyOjRlOmM4OmFlOmY5Og0KICAgICAgICAgMDM6OTQ6YmI6M2U6YWQ6ZWM6OTU6MmU6MGU6MGY6NGY6MzE6N2Y6YjQ6ZTY6OGM6MmQ6YTY6DQogICAgICAgICBkZjphMjplNTo1MDplMTo0ODplMDo3MTo4NzpiYzozMDpiNzphZjo2Yzo0NjoxZDpmZTo3YToNCiAgICAgICAgIGY0OjEzOjRmOjNkOmRhOmU5OmJjOmRkOjc2Ojc5Ojc0OmZjOmM4OjFkOmUzOjRkOjZlOmU3Og0KICAgICAgICAgNTM6MmY6ZmI6Mzg6Nzg6N2I6NDk6OTQ6MWU6NjQ6Y2Q6MmE6NjA6Nzc6OGY6MDU6OWI6ZDM6DQogICAgICAgICBhYTo3ZTpmOTozNjphMzpmZTpkYjoyYzpiNjpiODo0ODowYTpiZjozYzozZjo2YzpmZjphYjoNCiAgICAgICAgIDZlOjAzOjBlOjFkOmUxOjM2OmVmOjMyOmVhOmY2OjFmOjNkOjBhOjg0OmZiOmY0OmM4OjkyOg0KICAgICAgICAgMmI6ZTU6YjY6OTg6NTA6ZGI6YTc6MmU6ZTE6YzA6N2I6MjQ6ZGY6Zjg6YTM6NzA6NDg6NzU6DQogICAgICAgICBkODpmYjozZDowOTpkNjo5YTo1YzoxNjo4YzpkNDo1NTpiYzowZDpmMDpkMzo2ZjoyYjowZToNCiAgICAgICAgIGFlOmMxOjhhOjVhOmUzOjgwOmY2OmU0OmU2OjVjOjUxOmEzOmZkOjQzOmZiOjg2OjM4OjZjOg0KICAgICAgICAgYmU6Y2Y6ZWE6YTE6OWU6YjE6NzA6YmE6NTQ6ZjU6Yjk6OGU6N2I6NGE6ZWQ6YzA6ZTc6Y2U6DQogICAgICAgICBkOToxODpjYjpjNDoxMDphMDo4NjpjODo2MzowZDo5ZDpmOToyNzo2YzowNDowMDpkMzoyYToNCiAgICAgICAgIDI4OjA5OjI0OjM1OmU1OmExOmNmOjA4Ojk3OjY2OjVmOjRiOjdkOjM0OjU3OjBmOmFmOjczOg0KICAgICAgICAgOWU6NTY6ODA6ZDQ6MTQ6ODE6NmE6MTk6YmM6MTM6NDk6NDQ6Zjc6NDE6ZDc6YzA6ZTk6YzY6DQogICAgICAgICAwNjo5NTo1MzoyNjowYToyNDo3ZjoxMTozNTpmNDpiYzpiYjozOToxYjpkZjo5YjphODphMzoNCiAgICAgICAgIDc1OjBjOjgwOjE1Ojg3OmZkOjRjOmZiOjY3OmZiOjU0OjNmOjBjOmZmOmQ3OjA3OmM3OjdhOg0KICAgICAgICAgMTE6ZTE6ZjE6ZTQ6Nzc6Yzc6ODQ6ZGE6Yjc6MmI6Mzc6ZjU6NzU6YzU6OTU6MDQ6MTk6MTE6DQogICAgICAgICA3ZTo1NzozNDowZjo2ZTo3YjoxZToxNzo4YjpmYTowMjo4ZTpjMjpiZTo4MDo2NzpmMTo2ZjoNCiAgICAgICAgIGY3OjFjOjYzOjk0OjMwOjlhOjc5OmIxOjM2Ojk0OjAyOjA2Ojc4Ojg4OmY3OjUzOjllOjRiOg0KICAgICAgICAgYzk6MzA6N2M6Yzc6YmY6Y2Y6Njk6YmY6MmM6M2I6NTM6NTQ6YjM6YjI6ZmI6ZTU6MzI6YWM6DQogICAgICAgICA1YTo3Njo5Njo1YzplMzowZDo3MDo5YjowNzpiMzpiNDplZjpiZjo3ZjpiYTphNjo3MDoyMzoNCiAgICAgICAgIDFhOjJjOjk3OmZmOjc3OmM3OmM2OjRiOjQwOjdmOjQ1OjEwOmJjOjgzOmU0OmQwOmZmOjA2Og0KICAgICAgICAgMDk6ZmI6YTY6ODU6ZDY6OGI6NTc6ZWY6MTA6MjE6ZjE6OGY6YTc6ZGU6Njk6MDI6ODU6OWE6DQogICAgICAgICAzZTo3Zjo4YzpiMDoyYTplMjpjYzo5NDozYjowMzo3ODo4ZTo2NzowMTplMjo0MTphMDoxNzoNCiAgICAgICAgIDgzOjBiOjE1OjYzOjc1OmYwOmY1OmE2OmJkOjI5OmE3OjI4Ojg5OjUwOjRmOmRhOjI2OmFhOg0KICAgICAgICAgZTY6ODY6MTM6YmE6NmQ6YjU6YzM6Zjg6MzI6YmI6Y2U6NjA6Y2Y6Zjg6YmM6MzQ6NmE6MWY6DQogICAgICAgICBhNzo5YjpmMzoyZjo1Zjo1ODoxZTo1ZDozNToyMjpkNzo2ZDowNDo3MToxNDozNDoxZjozNToNCiAgICAgICAgIDNjOjcyOjBhOmIxOmJlOjgwOjgwOmJkDQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0NCk1JSUdmekNDQkdlZ0F3SUJBZ0lDQVNBd0RRWUpLb1pJaHZjTkFRRUxCUUF3ZXpFTE1Ba0dBMVVFQmhNQ1puSXgNCkREQUtCZ05WQkFnTUEybGtaakVPTUF3R0ExVUVCd3dGY0dGeWFYTXhEakFNQmdOVkJBb01CWFpwZEdGdE1SUXcNCkVnWURWUVFMREF0aGRYUm9iM0pwZEdsbGN6RW9NQ1lHQTFVRUF3d2ZZMkZmYVc1MFpYSnRaV1JwWVhSbFgyTnMNCmFXVnVkQzFsZUhSbGNtNWhiREFlRncweE9EQXlNakl4TmpNM01EUmFGdzB5TVRBeU1qRXhOak0zTURSYU1FNHgNCkN6QUpCZ05WQkFZVEFtWnlNUXd3Q2dZRFZRUUlEQU5wWkdZeERqQU1CZ05WQkFjTUJYQmhjbWx6TVE0d0RBWUQNClZRUUtEQVYyYVhSaGJURVJNQThHQTFVRUF3d0lhV2h0TFdSbGJXOHdnZ0lpTUEwR0NTcUdTSWIzRFFFQkFRVUENCkE0SUNEd0F3Z2dJS0FvSUNBUUN5emkzV25KYnRBdmx4aVZYTS9rdkdVKzlld0c1dllJRkxBTVVRdjV1c0JkWnUNCkd2WUFUWTkvdlFFRjYzSGRueHBhUFE1MlhNeTNBMVRxNXVKd20yL2w3VHU4a1pDbVFudkp3SFF0OUMyOEJlOXQNCkFoSytXb2cwNUl4RTN3dWYxcEh4MFhBSFJIZ0M1WGIvOUxMcFl4L1ordmsvSmg3d2VjZlZaRTdPSVJINnBjck0NClV3YWRmSnZSeGQvUlpEZjFjN3JVOFp4NWkzYUZFRlpPbVdZL3RveU5icThjRTB2ZXlUeTRxMWJPb2lwTFYvQWsNCkMvS3lmdncyeiszZVhCc3J0VVg2TlFqQ0hUZ3J1TGlWMFZlOHZkUVdaQkZybVlYOW1jcVcxak1JZlh6TjRJcEgNCkpUSU50b3NiKy9IMHpMVDVHUm9oQS9RZ1NPVXpCOXZ4aXFTZ25NSnBOSHJFYUxnK211VEVScnIzTzRyc0pmSkkNCmdVa3dsREpIVTNvMUpuVXlOd3dadXd5T1Q1ME91c2E0NStyVmlXSitCSi85cGRHUjlkR0VxTm9rOGs0cGJyNHINCkZodFlhQlNKd0RxeVlsdzlMNEtaQngvVkE4b0VnYlQ3ZTNudHRUb1dSTW9QRWhwekZ3U3NWdTJwSG5pTXpRYlUNCmJIRHdZM2syZEJvcDdyUW10UFFJMzV2ZnFGQ2pYcG1tZkROREN3VEJUUGlDRWlTTTc1ZTlMdFV5QWVSdXpZOHENCkhrQkVDVUE2a3RyU1BDOHJYQlNsRFA3MVdWbzJoQ3hmR0NxVCt1bkpLc2ZnYVdGUjNoYnhsazNEVUxneGcxaTUNCnJPL2kxRXROWnJUWjBBWmFLTFloUWs2cjNxUWVleE9UNlFINlZiYkJvdFAyeDRON0JhZDY3QkNNRm5ZUzF3SUQNCkFRQUJvNElCT0RDQ0FUUXdKQVlKWUlaSUFZYjRRZ0VOQkJjV0ZVTmxjblJwWm1sallYUWdRMnhwWlc1MElGTlQNClREQWRCZ05WSFE0RUZnUVVnYlY2R1lkUDlCUXZ4b3IxeXF6ZnllT2x5V1F3Z1o0R0ExVWRJd1NCbGpDQms0QVUNCm5Jc3I0REJvdWlBbUhib0hvRWdaYXl6ZURpYWhkNlIxTUhNeEN6QUpCZ05WQkFZVEFtWnlNUXd3Q2dZRFZRUUkNCkRBTnBaR1l4RGpBTUJnTlZCQWNNQlhCaGNtbHpNUTR3REFZRFZRUUtEQVYyYVhSaGJURVVNQklHQTFVRUN3d0wNCllYVjBhRzl5YVhScFpYTXhJREFlQmdOVkJBTU1GMk5oWDNKdmIzUmZZMnhwWlc1MExXVjRkR1Z5Ym1Gc2dnSUENCi9EQUpCZ05WSFJJRUFqQUFNQXdHQTFVZEV3RUIvd1FDTUFBd0N3WURWUjBQQkFRREFnWGdNQkVHQ1dDR1NBR0cNCitFSUJBUVFFQXdJSGdEQVRCZ05WSFNVRUREQUtCZ2dyQmdFRkJRY0RBakFOQmdrcWhraUc5dzBCQVFzRkFBT0MNCkFnRUFpRnoxUEFmcDI2TEdTUTNITVhGMFU5MGp3ODNKcEpSYko0TzJGanBRV0ZKT3lLNzVBNVM3UHEzc2xTNE8NCkQwOHhmN1RtakMybTM2TGxVT0ZJNEhHSHZEQzNyMnhHSGY1NjlCTlBQZHJwdk4xMmVYVDh5QjNqVFc3blV5LzcNCk9IaDdTWlFlWk0wcVlIZVBCWnZUcW43NU5xUCsyeXkydUVnS3Z6dy9iUCtyYmdNT0hlRTI3ekxxOWg4OUNvVDcNCjlNaVNLK1cybUZEYnB5N2h3SHNrMy9pamNFaDEyUHM5Q2RhYVhCYU0xRlc4RGZEVGJ5c09yc0dLV3VPQTl1VG0NClhGR2ovVVA3aGpoc3ZzL3FvWjZ4Y0xwVTlibU9lMHJ0d09mTzJSakx4QkNnaHNoakRaMzVKMndFQU5NcUtBa2sNCk5lV2h6d2lYWmw5TGZUUlhENjl6bmxhQTFCU0JhaG04RTBsRTkwSFh3T25HQnBWVEpnb2tmeEUxOUx5N09SdmYNCm02aWpkUXlBRllmOVRQdG4rMVEvRFAvWEI4ZDZFZUh4NUhmSGhOcTNLemYxZGNXVkJCa1JmbGMwRDI1N0hoZUwNCitnS093cjZBWi9Gdjl4eGpsRENhZWJFMmxBSUdlSWozVTU1THlUQjh4Ny9QYWI4c08xTlVzN0w3NVRLc1duYVcNClhPTU5jSnNIczdUdnYzKzZwbkFqR2l5WC8zZkh4a3RBZjBVUXZJUGswUDhHQ2Z1bWhkYUxWKzhRSWZHUHA5NXANCkFvV2FQbitNc0NyaXpKUTdBM2lPWndIaVFhQVhnd3NWWTNYdzlhYTlLYWNvaVZCUDJpYXE1b1lUdW0yMXcvZ3kNCnU4NWd6L2k4TkdvZnA1dnpMMTlZSGwwMUl0ZHRCSEVVTkI4MVBISUtzYjZBZ0wwPQ0KLS0tLS1FTkQgQ0VSVElGSUNBVEUtLS0tLQ=="}' -H "Content-Type: application/json" -X POST http://security-internal.service.consul:28005/v1/api/identity
echo "End"

echo "Import ihm-recette certificate"
echo "Begin"
curl -d '{ "contextId" : "CT-000001" , "certificate" : "Q2VydGlmaWNhdGU6DQogICAgRGF0YToNCiAgICAgICAgVmVyc2lvbjogMyAoMHgyKQ0KICAgICAgICBTZXJpYWwgTnVtYmVyOiAyOTEgKDB4MTIzKQ0KICAgIFNpZ25hdHVyZSBBbGdvcml0aG06IHNoYTI1NldpdGhSU0FFbmNyeXB0aW9uDQogICAgICAgIElzc3VlcjogQz1mciwgU1Q9aWRmLCBMPXBhcmlzLCBPPXZpdGFtLCBPVT1hdXRob3JpdGllcywgQ049Y2FfaW50ZXJtZWRpYXRlX2NsaWVudC1leHRlcm5hbA0KICAgICAgICBWYWxpZGl0eQ0KICAgICAgICAgICAgTm90IEJlZm9yZTogRmViIDIyIDE2OjM3OjA5IDIwMTggR01UDQogICAgICAgICAgICBOb3QgQWZ0ZXIgOiBGZWIgMjEgMTY6Mzc6MDkgMjAyMSBHTVQNCiAgICAgICAgU3ViamVjdDogQz1mciwgU1Q9aWRmLCBMPXBhcmlzLCBPPXZpdGFtLCBDTj1paG0tcmVjZXR0ZQ0KICAgICAgICBTdWJqZWN0IFB1YmxpYyBLZXkgSW5mbzoNCiAgICAgICAgICAgIFB1YmxpYyBLZXkgQWxnb3JpdGhtOiByc2FFbmNyeXB0aW9uDQogICAgICAgICAgICAgICAgUHVibGljLUtleTogKDQwOTYgYml0KQ0KICAgICAgICAgICAgICAgIE1vZHVsdXM6DQogICAgICAgICAgICAgICAgICAgIDAwOmJiOjM4OjQ1OmYxOmI0OmZjOjBjOmI0OjFhOjAxOjE2OmI1OmEzOjM4Og0KICAgICAgICAgICAgICAgICAgICBiYTowZTpiODplYjo2MTo3ZDo2ODo1NDoxNzpjNzpkZTowYTo2MDpjYTpkMzoNCiAgICAgICAgICAgICAgICAgICAgMDI6Mzc6ZjA6YjE6Nzk6N2I6YmE6YTI6MDE6MzI6ZmE6MDM6NGU6NDk6MWQ6DQogICAgICAgICAgICAgICAgICAgIDg4OjhiOmUzOjJhOmU5OmE2OmQyOjY5OmViOmY2OmJkOjc1OmQ5OjNmOmM2Og0KICAgICAgICAgICAgICAgICAgICBhZjpjNjozYjozNTphNjoyODozNTpmNjoyYTowNjo2MzpmOTo1MTpiNzpkZToNCiAgICAgICAgICAgICAgICAgICAgMTI6Y2M6YjY6NWM6ODA6NmE6YWQ6YWY6N2E6ODE6OWY6YWY6ZGE6MWE6YmI6DQogICAgICAgICAgICAgICAgICAgIDAyOmU4OjU1OmY2OmFhOmY2OmJmOjg5OjFkOmIzOjI5OmUyOmM3OjA2OjhkOg0KICAgICAgICAgICAgICAgICAgICA2ZTozYzoyNDpkZTphMDoyNzo3YzowZTphYTo1MjowYzpiZTo1MzoxZDo4ODoNCiAgICAgICAgICAgICAgICAgICAgOWU6Mjc6MzU6YTg6ZGY6YTc6ODY6ZWM6Zjk6ODg6YmQ6NzM6MDA6ODE6ODY6DQogICAgICAgICAgICAgICAgICAgIGY0OmJlOjFlOmViOjM4OjUwOjIxOjY0OmJjOmFiOmJiOmUyOjUxOjMxOmZkOg0KICAgICAgICAgICAgICAgICAgICBlMzoxMDozNjplZTpjMjphOToxMjo0MTozMzoyODo0Mjo0OTphOToyYzo0ODoNCiAgICAgICAgICAgICAgICAgICAgNDA6Nzg6NjQ6MmE6NmU6Mjg6ZjE6YWE6NmY6NDg6YTc6YzA6NmQ6N2I6ZDg6DQogICAgICAgICAgICAgICAgICAgIDBlOjcxOmM4OmJmOjdkOmUyOjMzOjQyOjgxOjZmOjY2Ojg1OjU5Ojc3OmZjOg0KICAgICAgICAgICAgICAgICAgICA2MzpkYTo0MzoyNTo3MToxODo0NDpjNDplOToyNDo1MTowMjo1ODo3ZDo1ZDoNCiAgICAgICAgICAgICAgICAgICAgNmM6YWQ6YTA6NmQ6NGI6N2Y6MjM6NzU6Nzc6NDk6YzA6NDc6Y2E6NmI6NWI6DQogICAgICAgICAgICAgICAgICAgIDhjOjQ0OjBiOjY1OjQxOmJiOjc2OmZmOmM2OjEwOmRlOjAzOmMxOjlhOjc0Og0KICAgICAgICAgICAgICAgICAgICA2Mzo4MTplYjpmMzowMDplMjo5NzpiODozNzpmMzo2OTo2Yzo0MzozYTpjYToNCiAgICAgICAgICAgICAgICAgICAgYjc6NTg6N2Q6OGM6OWY6YjY6NmQ6NjI6NGE6MWQ6MjQ6YzI6MDk6N2Q6MDU6DQogICAgICAgICAgICAgICAgICAgIDcwOjAzOjYzOjI5OjZkOjVlOjkwOjc0OjJkOmNmOjYxOmExOmVjOmNlOmFlOg0KICAgICAgICAgICAgICAgICAgICA3YTpiZTo4Zjo1YjowODpkNzplZTo5ODowYjowMzpmNjo4MTphODoxNjowNDoNCiAgICAgICAgICAgICAgICAgICAgOWQ6Yzc6NGE6MDY6NjI6OGE6YmI6YzQ6OGU6NGU6YjI6MmM6MGE6ZmQ6Yjk6DQogICAgICAgICAgICAgICAgICAgIDY2OjA5OmU1OjdjOjYyOjA1OjgyOmQzOmU2OjY5OjJmOjQzOmEzOmQzOjMwOg0KICAgICAgICAgICAgICAgICAgICAxMjpjNzozZTowZTo1MjphZjo4YjpkYjoxODozZTo0ZTo5YTpkNzo5YjpkYzoNCiAgICAgICAgICAgICAgICAgICAgYTk6MDk6MDI6NmM6M2I6NGU6NzU6MTg6ZWE6ZGI6YjI6Yzc6Zjg6YjQ6Nzc6DQogICAgICAgICAgICAgICAgICAgIDg0OjBkOjJkOmYzOjQ2OmY4OjYzOmM3OjM2OjRlOjZmOmE2OjkwOjk1OjZhOg0KICAgICAgICAgICAgICAgICAgICA5ZDo2NjoxNzo3NzplYzoyODowMjpiYjo0NDo2Mjo1YzoyZDpkYjowZToyMToNCiAgICAgICAgICAgICAgICAgICAgMjk6ZTI6NWU6NDM6OTc6M2E6ZWY6ZmQ6OTg6MzY6ZGU6M2U6YTc6MGY6ODI6DQogICAgICAgICAgICAgICAgICAgIGJhOjAyOjkxOmJjOjEyOjgwOmEyOjhhOjFjOmQzOjMwOjNkOjRkOjY5OjYzOg0KICAgICAgICAgICAgICAgICAgICA3MDo1OTo4MTphZjpmNTozNTowNTphYTpmMzoxNjphMTpjNTo3NDphNDo4ZToNCiAgICAgICAgICAgICAgICAgICAgOWI6ODM6NTg6OTg6MzQ6YmQ6ODg6OTg6NDc6ZGE6MGY6MTY6ZjA6OGY6MDg6DQogICAgICAgICAgICAgICAgICAgIDBjOmVjOjc5OjcyOjc2OjQ0Ojk5OjMyOjM1OmFhOjNhOjRhOmE0OjQ1OjQ0Og0KICAgICAgICAgICAgICAgICAgICA5MjphMzozNTo1ZTo5OTo2Yzo4MzpkMjpkMDozZTo2Mzo1ZTpjZjpjMjo0ODoNCiAgICAgICAgICAgICAgICAgICAgNWE6ODc6OGQ6MjQ6ZjA6ZGI6Y2M6Nzc6ODE6ZjY6MDk6ZGY6OGU6NWE6ODc6DQogICAgICAgICAgICAgICAgICAgIGYyOmNjOjUyOmIwOjgwOmExOmJjOmQwOjE3OjY4OjJkOmNhOjhlOjAyOjIxOg0KICAgICAgICAgICAgICAgICAgICAzZTozNjo3Mw0KICAgICAgICAgICAgICAgIEV4cG9uZW50OiA2NTUzNyAoMHgxMDAwMSkNCiAgICAgICAgWDUwOXYzIGV4dGVuc2lvbnM6DQogICAgICAgICAgICBOZXRzY2FwZSBDb21tZW50OiANCiAgICAgICAgICAgICAgICBDZXJ0aWZpY2F0IENsaWVudCBTU0wNCiAgICAgICAgICAgIFg1MDl2MyBTdWJqZWN0IEtleSBJZGVudGlmaWVyOiANCiAgICAgICAgICAgICAgICAzMjo4QTpDMDpGRDo5ODowQjoxNjpERjowNDpBQjpBQjozQjpFRDo1NTo5RDpEQjpDMDowMToxRDoxNg0KICAgICAgICAgICAgWDUwOXYzIEF1dGhvcml0eSBLZXkgSWRlbnRpZmllcjogDQogICAgICAgICAgICAgICAga2V5aWQ6OUM6OEI6MkI6RTA6MzA6Njg6QkE6MjA6MjY6MUQ6QkE6MDc6QTA6NDg6MTk6NkI6MkM6REU6MEU6MjYNCiAgICAgICAgICAgICAgICBEaXJOYW1lOi9DPWZyL1NUPWlkZi9MPXBhcmlzL089dml0YW0vT1U9YXV0aG9yaXRpZXMvQ049Y2Ffcm9vdF9jbGllbnQtZXh0ZXJuYWwNCiAgICAgICAgICAgICAgICBzZXJpYWw6RkMNCg0KICAgICAgICAgICAgWDUwOXYzIElzc3VlciBBbHRlcm5hdGl2ZSBOYW1lOiANCiAgICAgICAgICAgICAgICA8RU1QVFk+DQoNCiAgICAgICAgICAgIFg1MDl2MyBCYXNpYyBDb25zdHJhaW50czogY3JpdGljYWwNCiAgICAgICAgICAgICAgICBDQTpGQUxTRQ0KICAgICAgICAgICAgWDUwOXYzIEtleSBVc2FnZTogDQogICAgICAgICAgICAgICAgRGlnaXRhbCBTaWduYXR1cmUsIE5vbiBSZXB1ZGlhdGlvbiwgS2V5IEVuY2lwaGVybWVudA0KICAgICAgICAgICAgTmV0c2NhcGUgQ2VydCBUeXBlOiANCiAgICAgICAgICAgICAgICBTU0wgQ2xpZW50DQogICAgICAgICAgICBYNTA5djMgRXh0ZW5kZWQgS2V5IFVzYWdlOiANCiAgICAgICAgICAgICAgICBUTFMgV2ViIENsaWVudCBBdXRoZW50aWNhdGlvbg0KICAgIFNpZ25hdHVyZSBBbGdvcml0aG06IHNoYTI1NldpdGhSU0FFbmNyeXB0aW9uDQogICAgICAgICAwMjo4Mzo1NzoyMDo0ODpiMTo1YTozOTowNjplMDo4Nzo1Zjo0MjowYzowYzpkZDo2ZDpjODoNCiAgICAgICAgIDg1OjFlOmNlOmZlOjczOjY5OjM1OjBkOmI1OjIwOmE5OmFkOjY0OjdhOjA5OmUwOjcxOjgzOg0KICAgICAgICAgNzA6ZTE6NzU6YzY6MWQ6MDQ6NjU6Mzc6NTg6MjE6YjQ6OGU6ZWE6Mzk6MzU6NGY6ZGU6ZmQ6DQogICAgICAgICAyOTo1NDozZDozMDozYTo3NDo2NjoyYjpmZDpkNDpkMTo2NDo4YzpmYjo1YTo3ZDozNzpkMjoNCiAgICAgICAgIGNiOjE1OjE4Ojc2OmJjOjdjOmM5Ojg0OmQ5OjBlOjRkOjI1OjkxOjliOjU1Ojg3OjE5OjRlOg0KICAgICAgICAgZjY6NTY6Yzk6OGM6OGY6MDU6ODQ6YWE6MmM6YWM6MjE6M2E6Mzc6NGI6NWM6OTA6YmU6OTk6DQogICAgICAgICA5NDowOTo1YzowNDplYzphNTpjMDphNTo2Mzo5Mjo5NTo3Njo2ZDpiYTowNjpjMzo4ZDpjODoNCiAgICAgICAgIGFiOjBkOjFhOmRlOjJmOjcwOmVjOjcyOjkyOjNiOjVjOjNkOjQ1OmQ3Ojc0OjEzOjY4OmU0Og0KICAgICAgICAgMDE6NDI6NTg6NmY6MmI6ZDQ6NWE6NzU6M2Y6ZjE6Yjk6MDg6M2U6MTc6MDA6NjM6MzE6ODI6DQogICAgICAgICAwMTpjZTpkOTozMjpiMTozYjo0YTo0MDphYTozYTplNjo0ZTozZDpmODo2YjpkZTo5YzpjZDoNCiAgICAgICAgIDkxOjdjOjhkOjJjOmRlOjc0OmU3OmFlOmEwOmJjOjlhOjBkOjBjOjdmOjA2OjQzOjhjOjViOg0KICAgICAgICAgNTU6OTQ6OGM6Nzg6ZmU6MTY6YTM6ZTA6Zjk6ZTU6MzQ6OGE6ZjU6YmI6NzY6MTk6N2M6YTA6DQogICAgICAgICBkYTpmODo1Mjo5Njo0NTo4Yzo3MTpiNjowNDphNzo0NzpkMzoyMDpmYTpjMTo5NDpjMjo2YzoNCiAgICAgICAgIDlmOjIwOjc4OjNlOjY3OjZlOmU4OjgwOmEyOmFjOmQzOmYzOmJjOjIwOmM1OmEwOjIzOjUyOg0KICAgICAgICAgZjM6YzY6ZDk6YjM6YzA6ZGI6MjA6M2E6ZDI6NmI6YWE6MGI6Zjk6ZWQ6NjQ6ODQ6YjI6YzM6DQogICAgICAgICAyMjo2ZDpiNzo3YzphMDo0NTpkNzozNjo3NTozZDpkMToxNzpkZTo1Njo2ZTphMzplOTo1MDoNCiAgICAgICAgIDkwOjdiOjc1OjUxOjdiOmExOjgwOmVkOjc0OmZkOjcwOjQzOjcwOjVkOjhlOjFjOjQzOjk5Og0KICAgICAgICAgYzI6OTE6NGY6OGU6NGU6NTA6MTI6NzM6ZTU6Mjk6ODY6NWQ6YzU6MTg6ZDk6ZjM6M2M6YTQ6DQogICAgICAgICAzMTpkYjo0MjpjOTo2MzpiMzpjNDpiMzowNjo0Mzo5ODo1MzphNzpiYzoyNjoxNToxYjplNjoNCiAgICAgICAgIDg0OmYyOjY3OjE0OjdhOmQ2OjVjOjIzOmJmOjhkOmM5OjYyOjljOmE5OmVkOjgxOmJmOjljOg0KICAgICAgICAgOGQ6ZTY6MTQ6NDQ6MmE6MWU6MzY6YTg6NjQ6MzM6M2M6MTQ6MDE6OTY6ODQ6OTU6NjI6NjA6DQogICAgICAgICA3Njo4NTpkYjo1NjplNzo5Yjo4NDo2NzpkNDoyZTpkMzpmZjo2ZjoyYjphZTowZDo5Njo0OToNCiAgICAgICAgIDkwOjcwOjk0OmFlOmE0OjYwOjhhOjQ2OjcyOjJiOjY5OjVhOjUyOjNjOjg5OmNjOmRlOmIzOg0KICAgICAgICAgNzA6OGE6NjU6Nzk6YjI6ZmI6NGY6MGU6Y2Q6OGU6OTU6Y2I6OGU6MTU6Y2I6M2U6MTM6NDU6DQogICAgICAgICA5Nzo5ZTowMTpmYjo4Yzo4NzoxZTpkNzowMToyYjo4MDo4Yzo5NDphZDpmMTpmYzo4YjpjZDoNCiAgICAgICAgIDcwOmJkOjU2OmEwOjZhOjdhOjBlOmEwOjQ3Ojg3Ojg0OjQ2Ojk3OjQ0OjE0OjY2OmVmOjdkOg0KICAgICAgICAgMTg6ODM6NmM6MGI6MmM6YzM6YzU6YzQ6NDU6MTU6MzI6NDU6OTI6MTc6YWU6Y2U6Mjk6NmY6DQogICAgICAgICA0MzphOTpiZjpkZDplZTo3YTplNDo5Yjo0ODo2Njo4ODozMzpiNzplZTowODoyNDo0MTpmNjoNCiAgICAgICAgIDRiOmMyOmExOjZkOmNmOjI4OmQ1OmRhDQotLS0tLUJFR0lOIENFUlRJRklDQVRFLS0tLS0NCk1JSUdnakNDQkdxZ0F3SUJBZ0lDQVNNd0RRWUpLb1pJaHZjTkFRRUxCUUF3ZXpFTE1Ba0dBMVVFQmhNQ1puSXgNCkREQUtCZ05WQkFnTUEybGtaakVPTUF3R0ExVUVCd3dGY0dGeWFYTXhEakFNQmdOVkJBb01CWFpwZEdGdE1SUXcNCkVnWURWUVFMREF0aGRYUm9iM0pwZEdsbGN6RW9NQ1lHQTFVRUF3d2ZZMkZmYVc1MFpYSnRaV1JwWVhSbFgyTnMNCmFXVnVkQzFsZUhSbGNtNWhiREFlRncweE9EQXlNakl4TmpNM01EbGFGdzB5TVRBeU1qRXhOak0zTURsYU1GRXgNCkN6QUpCZ05WQkFZVEFtWnlNUXd3Q2dZRFZRUUlEQU5wWkdZeERqQU1CZ05WQkFjTUJYQmhjbWx6TVE0d0RBWUQNClZRUUtEQVYyYVhSaGJURVVNQklHQTFVRUF3d0xhV2h0TFhKbFkyVjBkR1V3Z2dJaU1BMEdDU3FHU0liM0RRRUINCkFRVUFBNElDRHdBd2dnSUtBb0lDQVFDN09FWHh0UHdNdEJvQkZyV2pPTG9PdU90aGZXaFVGOGZlQ21ESzB3STMNCjhMRjVlN3FpQVRMNkEwNUpIWWlMNHlycHB0SnA2L2E5ZGRrL3hxL0dPeldtS0RYMktnWmorVkczM2hMTXRseUENCmFxMnZlb0dmcjlvYXV3TG9WZmFxOXIrSkhiTXA0c2NHalc0OEpONmdKM3dPcWxJTXZsTWRpSjRuTmFqZnA0YnMNCitZaTljd0NCaHZTK0h1czRVQ0Zrdkt1NzRsRXgvZU1RTnU3Q3FSSkJNeWhDU2Frc1NFQjRaQ3B1S1BHcWIwaW4NCndHMTcyQTV4eUw5OTRqTkNnVzltaFZsMy9HUGFReVZ4R0VURTZTUlJBbGg5WFd5dG9HMUxmeU4xZDBuQVI4cHINClc0eEVDMlZCdTNiL3hoRGVBOEdhZEdPQjYvTUE0cGU0Ti9OcGJFTTZ5cmRZZll5ZnRtMWlTaDBrd2dsOUJYQUQNCll5bHRYcEIwTGM5aG9lek9ybnErajFzSTErNllDd1AyZ2FnV0JKM0hTZ1ppaXJ2RWprNnlMQXI5dVdZSjVYeGkNCkJZTFQ1bWt2UTZQVE1CTEhQZzVTcjR2YkdENU9tdGViM0trSkFtdzdUblVZNnR1eXgvaTBkNFFOTGZORytHUEgNCk5rNXZwcENWYXAxbUYzZnNLQUs3UkdKY0xkc09JU25pWGtPWE91LzltRGJlUHFjUGdyb0NrYndTZ0tLS0hOTXcNClBVMXBZM0JaZ2EvMU5RV3E4eGFoeFhTa2pwdURXSmcwdllpWVI5b1BGdkNQQ0F6c2VYSjJSSmt5TmFvNlNxUkYNClJKS2pOVjZaYklQUzBENWpYcy9DU0ZxSGpTVHcyOHgzZ2ZZSjM0NWFoL0xNVXJDQW9ielFGMmd0eW80Q0lUNDINCmN3SURBUUFCbzRJQk9EQ0NBVFF3SkFZSllJWklBWWI0UWdFTkJCY1dGVU5sY25ScFptbGpZWFFnUTJ4cFpXNTANCklGTlRUREFkQmdOVkhRNEVGZ1FVTW9yQS9aZ0xGdDhFcTZzNzdWV2QyOEFCSFJZd2daNEdBMVVkSXdTQmxqQ0INCms0QVVuSXNyNERCb3VpQW1IYm9Ib0VnWmF5emVEaWFoZDZSMU1ITXhDekFKQmdOVkJBWVRBbVp5TVF3d0NnWUQNClZRUUlEQU5wWkdZeERqQU1CZ05WQkFjTUJYQmhjbWx6TVE0d0RBWURWUVFLREFWMmFYUmhiVEVVTUJJR0ExVUUNCkN3d0xZWFYwYUc5eWFYUnBaWE14SURBZUJnTlZCQU1NRjJOaFgzSnZiM1JmWTJ4cFpXNTBMV1Y0ZEdWeWJtRnMNCmdnSUEvREFKQmdOVkhSSUVBakFBTUF3R0ExVWRFd0VCL3dRQ01BQXdDd1lEVlIwUEJBUURBZ1hnTUJFR0NXQ0cNClNBR0crRUlCQVFRRUF3SUhnREFUQmdOVkhTVUVEREFLQmdnckJnRUZCUWNEQWpBTkJna3Foa2lHOXcwQkFRc0YNCkFBT0NBZ0VBQW9OWElFaXhXamtHNElkZlFnd00zVzNJaFI3Ty9uTnBOUTIxSUttdFpIb0o0SEdEY09GMXhoMEUNClpUZFlJYlNPNmprMVQ5NzlLVlE5TURwMFppdjkxTkZralB0YWZUZlN5eFVZZHJ4OHlZVFpEazBsa1p0Vmh4bE8NCjlsYkpqSThGaEtvc3JDRTZOMHRja0w2WmxBbGNCT3lsd0tWamtwVjJiYm9HdzQzSXF3MGEzaTl3N0hLU08xdzkNClJkZDBFMmprQVVKWWJ5dlVXblUvOGJrSVBoY0FZekdDQWM3Wk1yRTdTa0NxT3VaT1BmaHIzcHpOa1h5TkxONTANCjU2Nmd2Sm9OREg4R1E0eGJWWlNNZVA0V28rRDU1VFNLOWJ0MkdYeWcydmhTbGtXTWNiWUVwMGZUSVByQmxNSnMNCm55QjRQbWR1NklDaXJOUHp2Q0RGb0NOUzg4YlpzOERiSURyU2E2b0wrZTFraExMREltMjNmS0JGMXpaMVBkRVgNCjNsWnVvK2xRa0h0MVVYdWhnTzEwL1hCRGNGMk9IRU9ad3BGUGprNVFFblBsS1laZHhSalo4enlrTWR0Q3lXT3oNCnhMTUdRNWhUcDd3bUZSdm1oUEpuRkhyV1hDTy9qY2xpbktudGdiK2NqZVlVUkNvZU5xaGtNendVQVphRWxXSmcNCmRvWGJWdWViaEdmVUx0UC9ieXV1RFpaSmtIQ1VycVJnaWtaeUsybGFVanlKek42emNJcGxlYkw3VHc3TmpwWEwNCmpoWExQaE5GbDU0Qis0eUhIdGNCSzRDTWxLM3gvSXZOY0wxV29HcDZEcUJIaDRSR2wwUVVadTk5R0lOc0N5ekQNCnhjUkZGVEpGa2hldXppbHZRNm0vM2U1NjVKdElab2d6dCs0SUpFSDJTOEtoYmM4bzFkbz0NCi0tLS0tRU5EIENFUlRJRklDQVRFLS0tLS0="}' -H "Content-Type: application/json" -X POST http://security-internal.service.consul:28005/v1/api/identity
echo "End"


echo "Import reverse certificate"
echo "Begin"
curl -d '{ "contextId" : "CT-000001" , "certificate" : "Q2VydGlmaWNhdGU6DQogICAgRGF0YToNCiAgICAgICAgVmVyc2lvbjogMyAoMHgyKQ0KICAgICAgICBTZXJpYWwgTnVtYmVyOiAyOTIgKDB4MTI0KQ0KICAgIFNpZ25hdHVyZSBBbGdvcml0aG06IHNoYTI1NldpdGhSU0FFbmNyeXB0aW9uDQogICAgICAgIElzc3VlcjogQz1mciwgU1Q9aWRmLCBMPXBhcmlzLCBPPXZpdGFtLCBPVT1hdXRob3JpdGllcywgQ049Y2FfaW50ZXJtZWRpYXRlX2NsaWVudC1leHRlcm5hbA0KICAgICAgICBWYWxpZGl0eQ0KICAgICAgICAgICAgTm90IEJlZm9yZTogRmViIDIyIDE2OjM3OjEwIDIwMTggR01UDQogICAgICAgICAgICBOb3QgQWZ0ZXIgOiBGZWIgMjEgMTY6Mzc6MTAgMjAyMSBHTVQNCiAgICAgICAgU3ViamVjdDogQz1mciwgU1Q9aWRmLCBMPXBhcmlzLCBPPXZpdGFtLCBDTj1yZXZlcnNlDQogICAgICAgIFN1YmplY3QgUHVibGljIEtleSBJbmZvOg0KICAgICAgICAgICAgUHVibGljIEtleSBBbGdvcml0aG06IHJzYUVuY3J5cHRpb24NCiAgICAgICAgICAgICAgICBQdWJsaWMtS2V5OiAoNDA5NiBiaXQpDQogICAgICAgICAgICAgICAgTW9kdWx1czoNCiAgICAgICAgICAgICAgICAgICAgMDA6Y2E6Y2I6ZTU6MGM6ZWQ6ZmQ6N2U6OGY6NGM6ODM6MTI6NzI6OGM6YTI6DQogICAgICAgICAgICAgICAgICAgIGVkOjM3OmY3OjQ0OmE0OjY0OjAwOmMwOjczOjhkOmI4Ojk0OjI0OjM0OjlkOg0KICAgICAgICAgICAgICAgICAgICA4YjoxMjo5NjpiOTpjNjo2ZDphNzoyZjo3MTpmOTpjZTphODplODplYjo4MToNCiAgICAgICAgICAgICAgICAgICAgZjI6YTQ6OTg6Y2E6OWI6OTc6NmM6MDQ6MGY6OWY6OTM6Yjc6NzA6MmY6ZGI6DQogICAgICAgICAgICAgICAgICAgIDEzOjNkOjI4OmNjOjBlOjhiOjg3Ojg3OjBmOmViOjNhOmIxOmQ5OjM3OmNjOg0KICAgICAgICAgICAgICAgICAgICA5MjozZDozZDo2ODo0NTphYzo5Mzo3Nzo5YTo5ZTo1Yzo0Nzo1NjphMTo2ODoNCiAgICAgICAgICAgICAgICAgICAgNTc6Njc6MWE6MTY6MjI6Yzc6NjI6MzY6YmM6ZWY6MjM6Mjg6ZTg6MjE6NzM6DQogICAgICAgICAgICAgICAgICAgIDA3OjdkOmI5OmI0OmVjOjNlOjU2OmIzOmJhOjY5OjUzOjZhOmEwOjIzOmQzOg0KICAgICAgICAgICAgICAgICAgICA2NjpmNDpkODpmMToyNTplMTozNDo5Yjo3MjoyZjo4ZDozYzoxMToyNzpmYzoNCiAgICAgICAgICAgICAgICAgICAgMTc6NTA6OWY6NTc6NmE6MzQ6Yjc6NGE6NTA6ZTU6NmI6NDU6N2M6NjM6OWQ6DQogICAgICAgICAgICAgICAgICAgIDhhOjZlOmI1OmQwOjU5OmQ5OmQ4OmI2OmZiOjc0OmVhOjBkOjNjOjgyOjhmOg0KICAgICAgICAgICAgICAgICAgICAyNzowOToyOTpjMzo5MzphODpkMDpjOTplZjo2Mjo2NjphNjoxZTpjMDphNDoNCiAgICAgICAgICAgICAgICAgICAgZGE6MzQ6MDM6ODM6MjE6NTQ6OGQ6ZTc6YzA6ZTE6Zjg6ZTc6NDY6MGY6MWY6DQogICAgICAgICAgICAgICAgICAgIGEwOjkwOjdiOjc0OjM0OjM3OmUwOmI2OmFjOjU1OjcyOjYyOjllOjU4OmQ4Og0KICAgICAgICAgICAgICAgICAgICBkODo4YzplZToyMDo4NTowMTplNTo4NTphMjoxMjpmYjphMDowMjo3YjpiYjoNCiAgICAgICAgICAgICAgICAgICAgMzY6Yzg6Nzc6MmI6Yjc6YTM6ODk6N2M6ZGU6YmY6YzU6NGU6YWI6OTg6ZjU6DQogICAgICAgICAgICAgICAgICAgIDU5OjIwOmU1Ojg3OmUwOmEwOjE3OmUxOmNmOjQ3OjMwOmNhOmJjOjJmOjM5Og0KICAgICAgICAgICAgICAgICAgICBiNjo4NDo4Nzo5NzpiZjpmZjo0ZjphODo5MjozOToyNDpkNTo3ZTpkOToyODoNCiAgICAgICAgICAgICAgICAgICAgOTM6ZDk6MTY6MGM6MmE6NWI6YjI6OTI6MTQ6ZmM6MjE6NTg6MTg6YTI6MGQ6DQogICAgICAgICAgICAgICAgICAgIDRlOmQ5OmNhOjE1OjIyOmJiOjg5OmEwOmUyOjMwOjc2OmUxOmMxOjA5OmJhOg0KICAgICAgICAgICAgICAgICAgICA2ZDo5ZjoyMjowNjpiZTo2MTpmMzoxYjpjMzpmMToxNDoxOTpmODo0ODpjOToNCiAgICAgICAgICAgICAgICAgICAgM2I6NWU6NDk6YmE6ZmQ6OGM6ODI6NTE6OTU6ZTg6MGM6MWM6OGI6MmI6YzI6DQogICAgICAgICAgICAgICAgICAgIGY3OjIwOjNmOmRlOjA3OjU0OjQ3OjlhOmZhOmRiOjM2OjE0OjFmOmI0OjU5Og0KICAgICAgICAgICAgICAgICAgICBjNjphZDplZTplOTo5Yjo1ZDo0ZDplOToyODozYjphMDphMzo0YzoxOToxYToNCiAgICAgICAgICAgICAgICAgICAgNDU6OTM6YmU6M2E6MTE6MWE6NGY6NDc6MGM6ZDY6YzY6NDk6MmI6NmQ6YjU6DQogICAgICAgICAgICAgICAgICAgIGVkOmY4OjRmOmY4OmY1OmUwOjcyOmNiOjgzOjNjOjYxOjRlOjdkOjk0OmUwOg0KICAgICAgICAgICAgICAgICAgICAzNTplODo4YTphMDpiNzoxODpiZDphNzpkYzo1Mzo5OToxMDo5ODo2Mjo0MToNCiAgICAgICAgICAgICAgICAgICAgOWI6MjQ6YWI6Mzc6ZDE6NWQ6MzY6OGE6ZTU6OGM6ZGQ6M2I6OWU6ODI6ZDk6DQogICAgICAgICAgICAgICAgICAgIDRhOmM4OjJlOmJhOmRmOjkzOmIwOmQ2OmNiOjNkOjkzOjBjOmJhOjc5OmU4Og0KICAgICAgICAgICAgICAgICAgICBlNDplNjoyMTo4NDo3ODozMDpiMzo1MjpiMDowODplMjoyNDozNDoyZTplYjoNCiAgICAgICAgICAgICAgICAgICAgYTk6MWQ6Zjg6NTY6NWI6M2M6YTY6MWI6ZGU6ZTc6YWY6YTI6MTM6MzY6MDc6DQogICAgICAgICAgICAgICAgICAgIDAyOmRhOjI5OmM3OjhlOjVjOmU4OmQ3OmJlOjg1OjgxOjYxOjA0OjFlOjVmOg0KICAgICAgICAgICAgICAgICAgICAwNzo0MTpiYTowMzoyMDoxMzpiZDoyMDpmZDo0Njo2MzowYjpkYTo4ZTpmMjoNCiAgICAgICAgICAgICAgICAgICAgNTM6OTk6ZDM6YTc6NTY6ZGQ6Mjg6MWE6Zjg6M2I6MzA6YjM6NTg6YTc6NGM6DQogICAgICAgICAgICAgICAgICAgIDliOjhkOjliDQogICAgICAgICAgICAgICAgRXhwb25lbnQ6IDY1NTM3ICgweDEwMDAxKQ0KICAgICAgICBYNTA5djMgZXh0ZW5zaW9uczoNCiAgICAgICAgICAgIE5ldHNjYXBlIENvbW1lbnQ6IA0KICAgICAgICAgICAgICAgIENlcnRpZmljYXQgQ2xpZW50IFNTTA0KICAgICAgICAgICAgWDUwOXYzIFN1YmplY3QgS2V5IElkZW50aWZpZXI6IA0KICAgICAgICAgICAgICAgIDNDOkREOjQ1OjZEOkQzOkUzOkJGOjE3OkRBOjAzOjQzOkM3OkVFOjUyOjNBOjQxOjRGOjVBOjgzOjgwDQogICAgICAgICAgICBYNTA5djMgQXV0aG9yaXR5IEtleSBJZGVudGlmaWVyOiANCiAgICAgICAgICAgICAgICBrZXlpZDo5Qzo4QjoyQjpFMDozMDo2ODpCQToyMDoyNjoxRDpCQTowNzpBMDo0ODoxOTo2QjoyQzpERTowRToyNg0KICAgICAgICAgICAgICAgIERpck5hbWU6L0M9ZnIvU1Q9aWRmL0w9cGFyaXMvTz12aXRhbS9PVT1hdXRob3JpdGllcy9DTj1jYV9yb290X2NsaWVudC1leHRlcm5hbA0KICAgICAgICAgICAgICAgIHNlcmlhbDpGQw0KDQogICAgICAgICAgICBYNTA5djMgSXNzdWVyIEFsdGVybmF0aXZlIE5hbWU6IA0KICAgICAgICAgICAgICAgIDxFTVBUWT4NCg0KICAgICAgICAgICAgWDUwOXYzIEJhc2ljIENvbnN0cmFpbnRzOiBjcml0aWNhbA0KICAgICAgICAgICAgICAgIENBOkZBTFNFDQogICAgICAgICAgICBYNTA5djMgS2V5IFVzYWdlOiANCiAgICAgICAgICAgICAgICBEaWdpdGFsIFNpZ25hdHVyZSwgTm9uIFJlcHVkaWF0aW9uLCBLZXkgRW5jaXBoZXJtZW50DQogICAgICAgICAgICBOZXRzY2FwZSBDZXJ0IFR5cGU6IA0KICAgICAgICAgICAgICAgIFNTTCBDbGllbnQNCiAgICAgICAgICAgIFg1MDl2MyBFeHRlbmRlZCBLZXkgVXNhZ2U6IA0KICAgICAgICAgICAgICAgIFRMUyBXZWIgQ2xpZW50IEF1dGhlbnRpY2F0aW9uDQogICAgU2lnbmF0dXJlIEFsZ29yaXRobTogc2hhMjU2V2l0aFJTQUVuY3J5cHRpb24NCiAgICAgICAgIDljOjllOjY4OjU1OjJkOjExOjVkOjJlOmRlOjk4OjliOmI3OjU3OmZlOjdjOjY3OjQzOjk1Og0KICAgICAgICAgMmU6Mzk6NDc6NTU6MzA6NzA6ZWY6MzI6OTY6M2E6OWM6Mzc6MzQ6MWY6NjI6MWQ6M2Y6NGE6DQogICAgICAgICA1ZDo4NTozNDoxZDozMDo4Yjo1NjpiNTo0MzphNDowOTo1MDo2ZDo0MjpkNjo4OTo4OToyNToNCiAgICAgICAgIGIwOjYyOjI3OjdiOjlhOjA2OjYwOjIyOmY2OmMyOmQ2OjM4OjEwOjRlOjNlOjMwOmM4OmQyOg0KICAgICAgICAgNmU6MzM6N2E6YTE6MzM6MmI6MjI6NWM6MWY6NmE6M2U6Zjk6YWQ6NmQ6ZDU6Y2E6ODA6M2Q6DQogICAgICAgICA0MjplODozMDozMjo3YjpjYzozODphZToyNzphMToyNTo5ZToxMzoxZTo4YzoyMDozZDo4ZDoNCiAgICAgICAgIDk4OjAwOmJiOjFjOjBiOjJiOmI5OmJkOjRiOmNjOjMyOmRjOjhmOjUzOmMxOmU5OjI4Ojk3Og0KICAgICAgICAgNzQ6OGY6OTY6ZDc6ODk6ODQ6YTU6NGI6MDE6MTA6OGU6Y2U6MzQ6NmE6Y2M6Yjg6MDg6MDM6DQogICAgICAgICA0ZjphMzo3NzpjNToxMTpkMDplOTo3Njo4MTo1NDpjNzpjZTo1YTo5ZDplZDo0NDozYjozNjoNCiAgICAgICAgIDI0OmNmOmZjOmFmOjVkOjc3OjQ1OmYyOjcwOjMxOmM0OjAxOjYzOjc5OjNkOjJjOjBjOjhlOg0KICAgICAgICAgYTk6Nzc6M2Q6MWM6YTg6NjE6MjU6NDQ6MWU6NWE6MGE6ODk6MzQ6ZmI6YmE6N2E6NmU6NDM6DQogICAgICAgICAwMTpjYTo3MDo5ZjplYzplYjo4Zjo0MTo0NjpkZjo4Yzo1ZDo5ZToyMTo1Zjo0ZTowYzo2ZjoNCiAgICAgICAgIDY4OjFlOmIzOjgwOmI0Ojk5OjIzOjQzOmJkOmJhOjEyOjU5OjMxOjVhOmRjOmYyOjFhOjYxOg0KICAgICAgICAgODE6M2Y6Yjc6ZmQ6OWQ6MzQ6NTY6OTU6N2E6OGU6YWE6OTY6N2Y6ODQ6ZjY6ZmI6NTE6NWY6DQogICAgICAgICA4YTo4ZDphNjpiMzpiMTowMDpiMzowZjowZDo4ODo0YTowMTowODozMjpmZjo0ZjoxOTpmMzoNCiAgICAgICAgIDU5OmNkOjI4OmNjOmMzOjM4OmJlOmRhOmFmOmZmOmJkOjZmOmMxOmU2OmI1OjhmOjJmOjk3Og0KICAgICAgICAgMmU6Y2Y6MjI6MTE6OTk6MDg6NGY6MTY6NjI6ZGQ6Mjg6MGE6M2E6NDg6MGE6N2E6NmI6MGU6DQogICAgICAgICA3MzowYTozYTo3ZDo0MzphNDpjYzpjMDpkOTo4ZjpmMzoyYjpkZDo2ZTo1NTo4OTo2ZDozNToNCiAgICAgICAgIGFmOjI4OjQ3OmZkOmY2OjAxOjhiOjc0OmZlOjljOjRhOjVhOjlkOjAzOjQ0OjdjOmI4OjNmOg0KICAgICAgICAgZmM6MjM6YTg6MmI6NGU6NDU6Njc6MjI6MmU6OTY6NmY6M2M6MzM6NGU6MTg6ZDk6MDA6YWM6DQogICAgICAgICA2ZDphMjpkYzozNzoxNTo4Yzo5YjoyYTo2Mzo1ZjplZTozZjo3ODoxZDpjYTo3ZjowMzo4NjoNCiAgICAgICAgIDJjOjQ1OmFiOmIzOmNiOjhlOjY3OmY1OjhiOjQ1OmY5OmEyOjY3OmM4OjVhOjFjOmUyOjlmOg0KICAgICAgICAgMjA6OTY6OGU6NTg6YWU6ODE6MDQ6MzE6OTU6MDg6YWQ6NzU6OTE6NTE6NzQ6ZDk6OTU6OTE6DQogICAgICAgICA3ZTo2OTpjNTplMjplNDpjZTpjYTo0MTowNToyNDo5Mzo2NTo5Nzo2ODowNDowZTpkMzo2NDoNCiAgICAgICAgIDFjOjZhOjU0OjQ3OjExOmUxOmEwOjVmOjdjOmZmOjYyOmQyOmVmOmM1OmE5OjU1OmEwOjcxOg0KICAgICAgICAgMDI6M2Y6OWU6MWE6NjA6NWE6OTM6YTk6MDY6YjA6YjQ6Yzk6ZTQ6MzI6Njk6YmI6NmU6ZDM6DQogICAgICAgICBjODo4NjpkYjphMTo0NDowODozNzpmOTo1OTo0NDowOTphMTpjYzplNDozYzowMTo3MDplZDoNCiAgICAgICAgIDdjOmYxOjNlOmJmOjJhOjI3OmI5OjE2OjI2OjY4OmQzOmRlOmJkOmE2OjNiOjdmOjAwOjM5Og0KICAgICAgICAgYTY6YjE6NTg6N2M6YmI6OWE6ZDc6MDgNCi0tLS0tQkVHSU4gQ0VSVElGSUNBVEUtLS0tLQ0KTUlJR2ZqQ0NCR2FnQXdJQkFnSUNBU1F3RFFZSktvWklodmNOQVFFTEJRQXdlekVMTUFrR0ExVUVCaE1DWm5JeA0KRERBS0JnTlZCQWdNQTJsa1pqRU9NQXdHQTFVRUJ3d0ZjR0Z5YVhNeERqQU1CZ05WQkFvTUJYWnBkR0Z0TVJRdw0KRWdZRFZRUUxEQXRoZFhSb2IzSnBkR2xsY3pFb01DWUdBMVVFQXd3ZlkyRmZhVzUwWlhKdFpXUnBZWFJsWDJOcw0KYVdWdWRDMWxlSFJsY201aGJEQWVGdzB4T0RBeU1qSXhOak0zTVRCYUZ3MHlNVEF5TWpFeE5qTTNNVEJhTUUweA0KQ3pBSkJnTlZCQVlUQW1aeU1Rd3dDZ1lEVlFRSURBTnBaR1l4RGpBTUJnTlZCQWNNQlhCaGNtbHpNUTR3REFZRA0KVlFRS0RBVjJhWFJoYlRFUU1BNEdBMVVFQXd3SGNtVjJaWEp6WlRDQ0FpSXdEUVlKS29aSWh2Y05BUUVCQlFBRA0KZ2dJUEFEQ0NBZ29DZ2dJQkFNckw1UXp0L1g2UFRJTVNjb3lpN1RmM1JLUmtBTUJ6amJpVUpEU2RpeEtXdWNadA0KcHk5eCtjNm82T3VCOHFTWXlwdVhiQVFQbjVPM2NDL2JFejBvekE2TGg0Y1A2enF4MlRmTWtqMDlhRVdzazNlYQ0Kbmx4SFZxRm9WMmNhRmlMSFlqYTg3eU1vNkNGekIzMjV0T3crVnJPNmFWTnFvQ1BUWnZUWThTWGhOSnR5TDQwOA0KRVNmOEYxQ2ZWMm8wdDBwUTVXdEZmR09kaW02MTBGbloyTGI3ZE9vTlBJS1BKd2twdzVPbzBNbnZZbWFtSHNDaw0KMmpRRGd5RlVqZWZBNGZqblJnOGZvSkI3ZERRMzRMYXNWWEppbmxqWTJJenVJSVVCNVlXaUV2dWdBbnU3TnNoMw0KSzdlamlYemV2OFZPcTVqMVdTRGxoK0NnRitIUFJ6REt2Qzg1dG9TSGw3Ly9UNmlTT1NUVmZ0a29rOWtXRENwYg0Kc3BJVS9DRllHS0lOVHRuS0ZTSzdpYURpTUhiaHdRbTZiWjhpQnI1aDh4dkQ4UlFaK0VqSk8xNUp1djJNZ2xHVg0KNkF3Y2l5dkM5eUEvM2dkVVI1cjYyellVSDdSWnhxM3U2WnRkVGVrb082Q2pUQmthUlpPK09oRWFUMGNNMXNaSg0KSzIyMTdmaFArUFhnY3N1RFBHRk9mWlRnTmVpS29MY1l2YWZjVTVrUW1HSkJteVNyTjlGZE5vcmxqTjA3bm9MWg0KU3NndXV0K1RzTmJMUFpNTXVubm81T1loaEhnd3MxS3dDT0lrTkM3cnFSMzRWbHM4cGh2ZTU2K2lFellIQXRvcA0KeDQ1YzZOZStoWUZoQkI1ZkIwRzZBeUFUdlNEOVJtTUwybzd5VTVuVHAxYmRLQnI0T3pDeldLZE1tNDJiQWdNQg0KQUFHamdnRTRNSUlCTkRBa0JnbGdoa2dCaHZoQ0FRMEVGeFlWUTJWeWRHbG1hV05oZENCRGJHbGxiblFnVTFOTQ0KTUIwR0ExVWREZ1FXQkJRODNVVnQwK08vRjlvRFE4ZnVVanBCVDFxRGdEQ0JuZ1lEVlIwakJJR1dNSUdUZ0JTYw0KaXl2Z01HaTZJQ1lkdWdlZ1NCbHJMTjRPSnFGM3BIVXdjekVMTUFrR0ExVUVCaE1DWm5JeEREQUtCZ05WQkFnTQ0KQTJsa1pqRU9NQXdHQTFVRUJ3d0ZjR0Z5YVhNeERqQU1CZ05WQkFvTUJYWnBkR0Z0TVJRd0VnWURWUVFMREF0aA0KZFhSb2IzSnBkR2xsY3pFZ01CNEdBMVVFQXd3WFkyRmZjbTl2ZEY5amJHbGxiblF0WlhoMFpYSnVZV3lDQWdEOA0KTUFrR0ExVWRFZ1FDTUFBd0RBWURWUjBUQVFIL0JBSXdBREFMQmdOVkhROEVCQU1DQmVBd0VRWUpZSVpJQVliNA0KUWdFQkJBUURBZ2VBTUJNR0ExVWRKUVFNTUFvR0NDc0dBUVVGQndNQ01BMEdDU3FHU0liM0RRRUJDd1VBQTRJQw0KQVFDY25taFZMUkZkTHQ2WW03ZFgvbnhuUTVVdU9VZFZNSER2TXBZNm5EYzBIMklkUDBwZGhUUWRNSXRXdFVPaw0KQ1ZCdFF0YUppU1d3WWlkN21nWmdJdmJDMWpnUVRqNHd5Tkp1TTNxaE15c2lYQjlxUHZtdGJkWEtnRDFDNkRBeQ0KZTh3NHJpZWhKWjRUSG93Z1BZMllBTHNjQ3l1NXZVdk1NdHlQVThIcEtKZDBqNWJYaVlTbFN3RVFqczQwYXN5NA0KQ0FOUG8zZkZFZERwZG9GVXg4NWFuZTFFT3pZa3oveXZYWGRGOG5BeHhBRmplVDBzREk2cGR6MGNxR0VsUkI1YQ0KQ29rMCs3cDZia01CeW5DZjdPdVBRVWJmakYyZUlWOU9ERzlvSHJPQXRKa2pRNzI2RWxreFd0enlHbUdCUDdmOQ0KblRSV2xYcU9xcFovaFBiN1VWK0tqYWF6c1FDekR3MklTZ0VJTXY5UEdmTlp6U2pNd3ppKzJxLy92Vy9CNXJXUA0KTDVjdXp5SVJtUWhQRm1MZEtBbzZTQXA2YXc1ekNqcDlRNlRNd05tUDh5dmRibFdKYlRXdktFZjk5Z0dMZFA2Yw0KU2xxZEEwUjh1RC84STZnclRrVm5JaTZXYnp3elRoalpBS3h0b3R3M0ZZeWJLbU5mN2o5NEhjcC9BNFlzUmF1eg0KeTQ1bjlZdEYrYUpueUZvYzRwOGdsbzVZcm9FRU1aVUlyWFdSVVhUWmxaRithY1hpNU03S1FRVWtrMldYYUFRTw0KMDJRY2FsUkhFZUdnWDN6L1l0THZ4YWxWb0hFQ1A1NGFZRnFUcVFhd3RNbmtNbW03YnRQSWh0dWhSQWczK1ZsRQ0KQ2FITTVEd0JjTzE4OFQ2L0tpZTVGaVpvMDk2OXBqdC9BRG1tc1ZoOHU1clhDQT09DQotLS0tLUVORCBDRVJUSUZJQ0FURS0tLS0tDQo="}' -H "Content-Type: application/json" -X POST http://security-internal.service.consul:28005/v1/api/identity
echo "End"

echo "Import personal certificate"
echo "Begin"
curl -XPOST -H "Content-type: application/octet-stream" --data-binary @userOK.crt 'http://security-internal.service.consul:28005/v1/api/personalCertificate'
echo "End"

echo "Import ontologies"
echo "Begin"
curl -XPOST -H "Content-type: application/json" -H "X-Tenant-Id: 1" -H "Force-Update: true" --data-binary @../../deployment/environments/ontology/VitamOntology.json 'http://functional-administration.service.consul:18004/v1/admin/ontologies'
echo "End"
