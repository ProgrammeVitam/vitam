Prometheus server
##################

Supervision des événements et des alertes


Type :
	COTS EXTRA

Données stockées :
	* Métriques techniques
	* Métriques métier


Architecture de déploiement
===========================
Veuillez vous référer à la documentation officielle.


Ports utilisés
--------------

Le port utilisé par le serveur prometheus est le suivant:

* ``tcp:19090`` : Port d'écoute modifiable depuis le fichier ``cots_var.yml`` la varibale ``prometheus.server.port``

Prometheus alertmanager
########################

Envoi des alerts.


Type :
	COTS EXTRA


Architecture de déploiement
===========================
Veuillez vous référer à la documentation officielle.


Ports utilisés
--------------

Le port utilisé par prometheus alertmanager est le suivant:

* ``tcp:19093`` : Port d'API modifiable depuis le fichier ``cots_var.yml`` la varibale ``prometheus.alertmanager.api_port``
* ``tcp:19094`` : Port de cluster modifiable depuis le fichier ``cots_var.yml`` la varibale ``prometheus.alertmanager.cluster_port``


Prometheus node exporter
#########################

Exposition des métriques liées au maériel et au noyau du système


Type :
	COTS


Architecture de déploiement
===========================
Ce composant est à installer dans chacune des VMs ou métriels à superviser


Ports utilisés
--------------

Le port utilisé par prometheus node exporter est le suivant:

* ``tcp:19100`` : Port d'écoute modifiable depuis le fichier ``cots_var.yml`` la varibale ``prometheus.node_exporter.port``

API exposées
-------------

Prometheus node exporter expose l'API suivant:

* ``/metrics`` : API sur laquelle les métriques sont exposées.