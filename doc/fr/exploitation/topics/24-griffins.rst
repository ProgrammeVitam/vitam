Griffins
#########

.. note:: Nouveauté introduite en R9.

Afin de prendre en compte des considérations de réidentification et/ou préservation, la solution logicielle :term:`VITAM` intègre désormais des `griffins` - greffons - pour réaliser les actions d'analyse, (ré)identification et préservation.

Comme décrit dans le :term:`DIN`, le choix des `griffins` installés est défini dans le fichier ``environments/group_vars/all/vitam_vars.yml`` au niveau de la directive ``vitam_griffins``.

.. caution:: Cette version de la solution logicielle :term:`VITAM` ne mettant pas encore en oeuvre de mesure d'isolation particulière des `griffins`, il est recommandé de veiller à ce que l'usage de chaque `griffin` soit en conformité avec la politique de sécurité de l'entité. Il est en particulier déconseillé d'utiliser un `griffin` qui utiliserait un outil externe qui n'est plus maintenu.


Ajout de nouveaux / mise à jour de  `griffins`
===============================================

Il est possible d'ajouter ou mettre à jour des `griffons` à une installation de la solution logicielle :term:`VITAM`.

Ajout de `griffins`
--------------------

Pour cela, il faut modifier le fichier ``environments/group_vars/all/vitam_vars.yml`` au niveau de la directive ``vitam_griffins`` par ajout du/des `griffon(s)` dans la liste.

Exemple d'ajout du greffon **vitam-un-nouveau-greffon-qui-est-nécessaire** ::

   vitam_griffins: ["vitam-imagemagick-griffin", "vitam-jhove-griffin", "vitam-un-nouveau-greffon-qui-est-nécessaire"]

Mise à jour des `griffins`
--------------------------

Dans le cadre d'une montée de version des composants `griffins`, le playbook se charge de déployer les composants les plus à jour ; il n'est pas nécessaire de modifier la directive ``vitam_griffins``.

.. note:: Ne pas oublier, sur les partitions associées, de mettre à jour, si nécessaire, l'adresse du dépôt de binaires.

Préparation du système
-----------------------

Il faut également prévoir de mettre à disposition sur le(s) dépôt(s) de binaires les packages d'installation correspondants. Le nom indiqué dans la liste doit correspondre au nom du package (format rpm ou deb selon la plateforme). Les packages d'installation associés doivent se situer dans un dépôt accessible et connu par la machine sur laquelle ils vont être installés.

Prise en compte technique par :term:`VITAM`
--------------------------------------------

Enfin, il suffit de relancer le playbook d'installation de :term:`VITAM` avec, en fin de ligne, cette directive ::

    --tags griffins
