MongoDB
#######

Les composants ``vitam-mongos``, ``vitam-mongoc`` et ``vitam-mongod`` sont des instances de la base de données MongoDB et constituent les briques distribuées d'un cluster MongoDB.
La base de données est utilisée pour stocker les informations relatives aux archives hébergées dans Vitam.

Sous forme de cluster, elle est déployée en différentes instances :

    - un cluster, nommé ``mongodb-data``, stocke les métadonnées archivistiques (Unit, GOT) et les logbooks (LFC Unit, LFC GOT, Opérations), ainsi que les données de sécurité, de référence et les rapports (identity, masterdata et report).
    - un cluster, par offre de stockage, nommé ``mongodb-offer``, stocke les ordres d'écritures opérées sur les offres. Pour l'offre froide, cette base contient aussi les données d'emplacement de stockage dans l'offre (bande magnétique).

Les requêtes émises par les composants Vitam sont réceptionnées par le composant ``mongos``, qui communique avec le composant ``mongoc`` afin de faire exécuter ces requêtes sur les composants ``mongod``.
La configuration et l'exploitation de ces 3 composants est détaillée ci-après.

Un paragraphe détaille les différentes topologies de déploiement ainsi que les recommendations pour augmenter la tolérance aux pannes du système.
Un paragraphe détaille l'exploitation du cluster et notamment l'ajout de nouveaux shards.

.. toctree::
   :maxdepth: 1
   :glob:

   */_toc

