Logbook
#########

Configuration du Logbook
-------------------------

**logbook.conf** : fichier Yaml de configuration du serveur *logbook*.  Celle-ci possède une propriété :

- **alertEvents** : configuration des alertes de sécurité

une alerte est déclenchée soit sur l'analyse du couple {evType,outCome} soit sur celle du {outDetail}

1. Dans le cas du déclenchement sur l'analyse du couple {evType, outCome}

.. code-block:: yaml

- evType: 'CHECK_HEADER.CHECK_CONTRACT_INGEST'
  outcome: 'KO'

2. Dans le cas du déclenchement sur l'analyse du {outComeDetail}

.. code-block:: yaml

- outDetail: 'CHECK_HEADER.CHECK_CONTRACT_INGEST.KO'

3. La liste des détections de l'alerte

- non conformité de la base des règles de gestion au référentiel enregistré (CHECK_RULES)
- refus d'entrée d'un SIP pour des raisons d'inadéquation de contrats (CHECK_HEADER.CHECK_CONTRACT_INGEST)
- soumission d'un SIP avec une classification incompatible avec la plateforme (CHECK_CLASSIFICATION_LEVEL)
- valeur de durée dans les régle de gestion inférieure à la durée minimum (CHECK_RULES.MAX_DURATION_EXCEEDS)
- refus d'un accès avec les droits personae (STP_PERSONAL_CERTIFICATE_CHECK)

- absence de sécurisation des journaux sur 12h (TODO)

